<?xml version="1.0" encoding="UTF-8"?>
<deploydescriptor>
	<global>
		<version>152</version>
		<id>richmedia</id>
		<license>GPL-v2</license>
		<vendor>ontoprise GmbH</vendor>
		<maintainer>ontoprise GmbH</maintainer>
		<instdir>extensions/RichMedia</instdir>
		<description>
			Store richmedia files in our your wiki.
		</description>
		<helpurl>http://smwforum.ontoprise.com/smwforum/index.php/Help:Rich_Media_Extension</helpurl>
		<dependencies>
			<dependency from="212">semanticforms</dependency>
			<dependency from="156" to="156">smwplus</dependency>
		</dependencies>
	</global>
	<codefiles>
		<!-- external codes files -->
		<!-- TODO: add others in skins/commons/images/icons-->
	</codefiles>
	<wikidumps>
		<file loc="import/richmedia.xml" />
	</wikidumps>
	<resources>
		<file loc="skins/vcard.gif" />
		<file loc="skins/Calendar.gif" />
		<file loc="import/Richmedia_Sandbox.doc" />
		<file loc="import/Richmedia_Sandbox.pdf" />
		<file loc="import/Richmedia_Sandbox.png" />
	</resources>

	<configs>
		<new>
			<variable name="wgEnableUploads">
				<boolean name="wgEnableUploads"
					description="enables uploads">
					true
				</boolean>
			</variable>
			<variable name="smwgEnableUploadConverter">
				<boolean name="smwgEnableUploadConverter"
					description="enables the upload converter">
					true
				</boolean>
			</variable>
			<variable name="wgAllowExternalImagesFrom">
				<boolean name="wgAllowExternalImagesFrom"
					description="allows external images">
					$wgServer
				</boolean>
			</variable>
			<require name="rm_init"
				file="extensions/RichMedia/includes/RM_Initialize.php" />
			<function name="enableRichMediaExtension">
			</function>
			<require name="webdav_init"
				file="extensions/RichMedia/includes/WebDAV/WD_Initialize.php" />

			<patch file="RichMediaPatchForSF1_9.txt" ext="semanticforms"
				from="190" to="190" />
			<patch file="RichMediaPatchForSF1_9_1.txt" ext="semanticforms"
				from="191" to="191" />
			<patch file="RichMediaPatchForSF2_0.txt" ext="semanticforms"
				from="200" to="200" />
			<patch file="RichMediaPatchForSF2_0_8.txt" ext="semanticforms"
				from="208" to="208" />
			<patch file="RichMediaPatchForSF2_1_2.txt" ext="semanticforms"
				from="212" to="212" />
			<patch file="RichMediaPatchForMW1_15_3.txt" ext="mw" 
				from="1153" to="1153" />
			<patch file="RichMediaPatchForMW1_16_0.txt" ext="mw"
				from="1160" to="1160" mayfail="Namespace.php" />
			<patch file="RichMediaPatchForMW1_16_1.txt" ext="mw"
				from="1161" to="1161" mayfail="Namespace.php" />
			<patch file="RichMediaPatchForMW1_16_4.txt" ext="mw"
				from="1164" to="1164" mayfail="Namespace.php" />
		</new>
		<update from="151">
			<patch file="RichMediaPatchForSF2_1_2.txt" />
			<patch file="RichMediaPatchForMW1_16_4.txt" />
		</update>
		<uninstall>
			<patch file="RichMediaPatchForSF1_9.txt" ext="semanticforms"
				from="190" to="190" />
			<patch file="RichMediaPatchForSF1_9_1.txt" ext="semanticforms"
				from="191" to="191" />
			<patch file="RichMediaPatchForSF2_0.txt" ext="semanticforms"
				from="200" to="200" />
			<patch file="RichMediaPatchForSF2_0_8.txt" ext="semanticforms"
				from="208" to="208" />
			<patch file="RichMediaPatchForSF2_1_2.txt" ext="semanticforms"
				from="212" to="212" />
			<patch file="RichMediaPatchForMW1_15_3.txt" ext="mw" 
				from="1153" to="1153" />
			<patch file="RichMediaPatchForMW1_16_0.txt" ext="mw"
				from="1160" to="1160" />
			<patch file="RichMediaPatchForMW1_16_1.txt" ext="mw"
				from="1161" to="1161" />
			<patch file="RichMediaPatchForMW1_16_4.txt" ext="mw"
				from="1164" to="1164" />
		</uninstall>
	</configs>
</deploydescriptor>